!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@eva/eva.js")):"function"==typeof define&&define.amd?define(["exports","@eva/eva.js"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).EVA=t.EVA||{},t.EVA.plugin=t.EVA.plugin||{},t.EVA.plugin.EVAX={}),t.EVA)}(this,(function(t,e){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function n(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,r,n){var o,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(c=(i<3?o(c):i>3?o(e,r,c):o(e,r))||c);return i>3&&c&&Object.defineProperty(e,r,c),c}function i(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function c(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)c.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return c}function a(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}var u=function(t){function r(e){var r=t.call(this,e)||this;return r.events={},r}return n(r,t),r.prototype.init=function(t){void 0===t&&(t={events:{}});var e=t.events;this.events=e||{}},r.componentName="EvaX",o([e.decorators.IDEProp],r.prototype,"events",void 0),r}(e.Component);var s=function(t){var e={exports:{}};return t(e,e.exports),e.exports}((function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(t,e,n,i,c){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,i||t,c),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function c(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,c=new Array(i);o<i;o++)c[o]=n[o].fn;return c},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,o,i,c){var a=r?r+t:t;if(!this._events[a])return!1;var u,s,f=this._events[a],p=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),p){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,o),!0;case 5:return f.fn.call(f.context,e,n,o,i),!0;case 6:return f.fn.call(f.context,e,n,o,i,c),!0}for(s=1,u=new Array(p-1);s<p;s++)u[s-1]=arguments[s];f.fn.apply(f.context,u)}else{var l,v=f.length;for(s=0;s<v;s++)switch(f[s].once&&this.removeListener(t,f[s].fn,void 0,!0),p){case 1:f[s].fn.call(f[s].context);break;case 2:f[s].fn.call(f[s].context,e);break;case 3:f[s].fn.call(f[s].context,e,n);break;case 4:f[s].fn.call(f[s].context,e,n,o);break;default:if(!u)for(l=1,u=new Array(p-1);l<p;l++)u[l-1]=arguments[l];f[s].fn.apply(f[s].context,u)}}return!0},a.prototype.on=function(t,e,r){return i(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return i(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,o){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return c(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||c(this,i);else{for(var u=0,s=[],f=a.length;u<f;u++)(a[u].fn!==e||o&&!a[u].once||n&&a[u].context!==n)&&s.push(a[u]);s.length?this._events[i]=1===s.length?s[0]:s:c(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&c(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a}));function f(t,e){return t===e||t!=t&&e!=e}function p(t,e){for(var r=t.length;r--;)if(f(t[r][0],e))return r;return-1}var l=Array.prototype.splice;function v(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}v.prototype.clear=function(){this.__data__=[],this.size=0},v.prototype.delete=function(t){var e=this.__data__,r=p(e,t);return!(r<0)&&(r==e.length-1?e.pop():l.call(e,r,1),--this.size,!0)},v.prototype.get=function(t){var e=this.__data__,r=p(e,t);return r<0?void 0:e[r][1]},v.prototype.has=function(t){return p(this.__data__,t)>-1},v.prototype.set=function(t,e){var r=this.__data__,n=p(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var y="object"==typeof global&&global&&global.Object===Object&&global,h="object"==typeof self&&self&&self.Object===Object&&self,b=y||h||Function("return this")(),d=b.Symbol,_=Object.prototype,j=_.hasOwnProperty,g=_.toString,O=d?d.toStringTag:void 0;var m=Object.prototype.toString;var w=d?d.toStringTag:void 0;function A(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":w&&w in Object(t)?function(t){var e=j.call(t,O),r=t[O];try{t[O]=void 0;var n=!0}catch(t){}var o=g.call(t);return n&&(e?t[O]=r:delete t[O]),o}(t):function(t){return m.call(t)}(t)}function x(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function S(t){if(!x(t))return!1;var e=A(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var E,P=b["__core-js_shared__"],z=(E=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"";var U=Function.prototype.toString;function F(t){if(null!=t){try{return U.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var L=/^\[object .+?Constructor\]$/,k=Function.prototype,T=Object.prototype,D=k.toString,I=T.hasOwnProperty,V=RegExp("^"+D.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C(t){return!(!x(t)||(e=t,z&&z in e))&&(S(t)?V:L).test(F(t));var e}function M(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return C(r)?r:void 0}var R=M(b,"Map"),B=M(Object,"create");var $=Object.prototype.hasOwnProperty;var N=Object.prototype.hasOwnProperty;function X(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function W(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function q(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}X.prototype.clear=function(){this.__data__=B?B(null):{},this.size=0},X.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},X.prototype.get=function(t){var e=this.__data__;if(B){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return $.call(e,t)?e[t]:void 0},X.prototype.has=function(t){var e=this.__data__;return B?void 0!==e[t]:N.call(e,t)},X.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=B&&void 0===e?"__lodash_hash_undefined__":e,this},q.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new(R||v),string:new X}},q.prototype.delete=function(t){var e=W(this,t).delete(t);return this.size-=e?1:0,e},q.prototype.get=function(t){return W(this,t).get(t)},q.prototype.has=function(t){return W(this,t).has(t)},q.prototype.set=function(t,e){var r=W(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function G(t){var e=this.__data__=new v(t);this.size=e.size}G.prototype.clear=function(){this.__data__=new v,this.size=0},G.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},G.prototype.get=function(t){return this.__data__.get(t)},G.prototype.has=function(t){return this.__data__.has(t)},G.prototype.set=function(t,e){var r=this.__data__;if(r instanceof v){var n=r.__data__;if(!R||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new q(n)}return r.set(t,e),this.size=r.size,this};var Y=function(){try{var t=M(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function H(t,e,r){"__proto__"==e&&Y?Y(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var J=Object.prototype.hasOwnProperty;function K(t,e,r){var n=t[e];J.call(t,e)&&f(n,r)&&(void 0!==r||e in t)||H(t,e,r)}function Q(t,e,r,n){var o=!r;r||(r={});for(var i=-1,c=e.length;++i<c;){var a=e[i],u=n?n(r[a],t[a],a,r,t):void 0;void 0===u&&(u=t[a]),o?H(r,a,u):K(r,a,u)}return r}function Z(t){return null!=t&&"object"==typeof t}function tt(t){return Z(t)&&"[object Arguments]"==A(t)}var et=Object.prototype,rt=et.hasOwnProperty,nt=et.propertyIsEnumerable,ot=tt(function(){return arguments}())?tt:function(t){return Z(t)&&rt.call(t,"callee")&&!nt.call(t,"callee")},it=Array.isArray;var ct="object"==typeof t&&t&&!t.nodeType&&t,at=ct&&"object"==typeof module&&module&&!module.nodeType&&module,ut=at&&at.exports===ct?b.Buffer:void 0,st=(ut?ut.isBuffer:void 0)||function(){return!1},ft=/^(?:0|[1-9]\d*)$/;function pt(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&ft.test(t))&&t>-1&&t%1==0&&t<e}function lt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var vt={};function yt(t){return function(e){return t(e)}}vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var ht="object"==typeof t&&t&&!t.nodeType&&t,bt=ht&&"object"==typeof module&&module&&!module.nodeType&&module,dt=bt&&bt.exports===ht&&y.process,_t=function(){try{var t=bt&&bt.require&&bt.require("util").types;return t||dt&&dt.binding&&dt.binding("util")}catch(t){}}(),jt=_t&&_t.isTypedArray,gt=jt?yt(jt):function(t){return Z(t)&&lt(t.length)&&!!vt[A(t)]},Ot=Object.prototype.hasOwnProperty;function mt(t,e){var r=it(t),n=!r&&ot(t),o=!r&&!n&&st(t),i=!r&&!n&&!o&&gt(t),c=r||n||o||i,a=c?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var s in t)!e&&!Ot.call(t,s)||c&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||pt(s,u))||a.push(s);return a}var wt=Object.prototype;function At(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function xt(t,e){return function(r){return t(e(r))}}var St=xt(Object.keys,Object),Et=Object.prototype.hasOwnProperty;function Pt(t){return null!=t&&lt(t.length)&&!S(t)}function zt(t){return Pt(t)?mt(t):function(t){if(!At(t))return St(t);var e=[];for(var r in Object(t))Et.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var Ut=Object.prototype.hasOwnProperty;function Ft(t){if(!x(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=At(t),r=[];for(var n in t)("constructor"!=n||!e&&Ut.call(t,n))&&r.push(n);return r}function Lt(t){return Pt(t)?mt(t,!0):Ft(t)}var kt="object"==typeof t&&t&&!t.nodeType&&t,Tt=kt&&"object"==typeof module&&module&&!module.nodeType&&module,Dt=Tt&&Tt.exports===kt?b.Buffer:void 0,It=Dt?Dt.allocUnsafe:void 0;function Vt(){return[]}var Ct=Object.prototype.propertyIsEnumerable,Mt=Object.getOwnPropertySymbols,Rt=Mt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var c=t[r];e(c,r,t)&&(i[o++]=c)}return i}(Mt(t),(function(e){return Ct.call(t,e)})))}:Vt;function Bt(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var $t=xt(Object.getPrototypeOf,Object),Nt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Bt(e,Rt(t)),t=$t(t);return e}:Vt;function Xt(t,e,r){var n=e(t);return it(t)?n:Bt(n,r(t))}function Wt(t){return Xt(t,zt,Rt)}function qt(t){return Xt(t,Lt,Nt)}var Gt=M(b,"DataView"),Yt=M(b,"Promise"),Ht=M(b,"Set"),Jt=M(b,"WeakMap"),Kt="[object Map]",Qt="[object Promise]",Zt="[object Set]",te="[object WeakMap]",ee="[object DataView]",re=F(Gt),ne=F(R),oe=F(Yt),ie=F(Ht),ce=F(Jt),ae=A;(Gt&&ae(new Gt(new ArrayBuffer(1)))!=ee||R&&ae(new R)!=Kt||Yt&&ae(Yt.resolve())!=Qt||Ht&&ae(new Ht)!=Zt||Jt&&ae(new Jt)!=te)&&(ae=function(t){var e=A(t),r="[object Object]"==e?t.constructor:void 0,n=r?F(r):"";if(n)switch(n){case re:return ee;case ne:return Kt;case oe:return Qt;case ie:return Zt;case ce:return te}return e});var ue=ae,se=Object.prototype.hasOwnProperty;var fe=b.Uint8Array;function pe(t){var e=new t.constructor(t.byteLength);return new fe(e).set(new fe(t)),e}var le=/\w*$/;var ve=d?d.prototype:void 0,ye=ve?ve.valueOf:void 0;function he(t,e,r){var n,o,i,c=t.constructor;switch(e){case"[object ArrayBuffer]":return pe(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return function(t,e){var r=e?pe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?pe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return(i=new(o=t).constructor(o.source,le.exec(o))).lastIndex=o.lastIndex,i;case"[object Set]":return new c;case"[object Symbol]":return n=t,ye?Object(ye.call(n)):{}}}var be=Object.create,de=function(){function t(){}return function(e){if(!x(e))return{};if(be)return be(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var _e=_t&&_t.isMap,je=_e?yt(_e):function(t){return Z(t)&&"[object Map]"==ue(t)};var ge=_t&&_t.isSet,Oe=ge?yt(ge):function(t){return Z(t)&&"[object Set]"==ue(t)},me="[object Arguments]",we="[object Function]",Ae="[object Object]",xe={};function Se(t,e,r,n,o,i){var c,a=1&e,u=2&e,s=4&e;if(r&&(c=o?r(t,n,o,i):r(t)),void 0!==c)return c;if(!x(t))return t;var f=it(t);if(f){if(c=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&se.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!a)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,c)}else{var p=ue(t),l=p==we||"[object GeneratorFunction]"==p;if(st(t))return function(t,e){if(e)return t.slice();var r=t.length,n=It?It(r):new t.constructor(r);return t.copy(n),n}(t,a);if(p==Ae||p==me||l&&!o){if(c=u||l?{}:function(t){return"function"!=typeof t.constructor||At(t)?{}:de($t(t))}(t),!a)return u?function(t,e){return Q(t,Nt(t),e)}(t,function(t,e){return t&&Q(e,Lt(e),t)}(c,t)):function(t,e){return Q(t,Rt(t),e)}(t,function(t,e){return t&&Q(e,zt(e),t)}(c,t))}else{if(!xe[p])return o?t:{};c=he(t,p,a)}}i||(i=new G);var v=i.get(t);if(v)return v;i.set(t,c),Oe(t)?t.forEach((function(n){c.add(Se(n,e,r,n,t,i))})):je(t)&&t.forEach((function(n,o){c.set(o,Se(n,e,r,o,t,i))}));var y=f?void 0:(s?u?qt:Wt:u?Lt:zt)(t);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(y||t,(function(n,o){y&&(n=t[o=n]),K(c,o,Se(n,e,r,o,t,i))})),c}xe[me]=xe["[object Array]"]=xe["[object ArrayBuffer]"]=xe["[object DataView]"]=xe["[object Boolean]"]=xe["[object Date]"]=xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Map]"]=xe["[object Number]"]=xe[Ae]=xe["[object RegExp]"]=xe["[object Set]"]=xe["[object String]"]=xe["[object Symbol]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe["[object Error]"]=xe[we]=xe["[object WeakMap]"]=!1;var Ee=new Map;function Pe(t,e,r,n,o,i){if(Ee.has(r)||Ee.set(r,[]),!(Ee.get(r).indexOf(t)>-1)){Ee.get(r).push(t);for(var c=t.split("."),a=r,u=c.length,s=0;s<u-1;s++){if(void 0===a[c[s]])return;a=a[c[s]]}var f=a[c[u-1]];if(e&&x(f))for(var p in f)Pe(p,e,f,n,o,i);var l="_"+c[u-1];a[l]=f,Object.defineProperty(a,l,{enumerable:!1}),Object.defineProperty(a,c[u-1],{set:function(t){var r=function(t){return Se(t,5)}(o);if(a["_"+c[u-1]]=t,i(n,r),e&&x(t))for(var s in Ee.delete(a),t)Pe(s,e,t,n,o,i)},get:function(){return a["_"+c[u-1]]}})}}function ze(t,e,r){for(var n in t)n in e&&("object"==typeof t[n]?ze(t[n],e[n],r):(r||t[n]!==e[n])&&(t[n]=e[n]))}var Ue=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.changeList=[],e}return n(r,t),r.prototype.init=function(t){var e=(void 0===t?{store:{}}:t).store,r=void 0===e?{}:e;this.ee=new s,this.store=r,this.bindDefaultListener()},r.prototype.bindDefaultListener=function(){var t=this;this.ee.on("evax.updateStore",(function(e){t.updateStore(e)})),this.ee.on("evax.forceUpdateStore",(function(e){t.forceUpdateStore(e)}))},r.prototype.changeCallback=function(t,e){this.changeList.push({key:t,oldStore:e})},r.prototype.updateStore=function(t){ze(this.store,t,!1)},r.prototype.forceUpdateStore=function(t){ze(this.store,t,!0)},r.prototype.bindListener=function(t,e){var r=this;-1!==t.indexOf("store.")&&Pe(t.split(".").slice(1).join("."),e,this.store,t,this.store,(function(t,e){return r.changeCallback(t,e)}))},r.prototype.update=function(){var t,r,n=this.componentObserver.clear();try{for(var o=i(n),c=o.next();!c.done;c=o.next()){var a=c.value;switch(a.type){case e.OBSERVER_TYPE.ADD:this.add(a);break;case e.OBSERVER_TYPE.REMOVE:this.remove(a)}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},r.prototype.lateUpdate=function(){var t,e;try{for(var r=i(this.changeList),n=r.next();!n.done;n=r.next()){var o=n.value;this.ee.emit(o.key,this.store,o.oldStore)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.changeList=[]},r.prototype.add=function(t){var e=t.component;for(var r in e.evax=this,e.events)if(e.events[r]){this.bindListener(r,!!e.events[r].deep);var n=void 0;n=e.events[r]instanceof Function?e.events[r]:e.events[r].handler,this.ee.on(r,n.bind(e))}},r.prototype.remove=function(t){var e=t.component;for(var r in e.events)e.events[r]instanceof Function&&this.ee.off(r,e.events[r].bind(e))},r.prototype.on=function(t,e){return this.ee.on(t,e,this)},r.prototype.off=function(t,e){return this.ee.off(t,e)},r.prototype.emit=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(e=this.ee).emit.apply(e,a([t],r))},r.prototype.onDestroy=function(){},r.systemName="EvaX",r=o([e.decorators.componentObserver({EvaX:[]})],r)}(e.System),Fe={Components:[u],Systems:[Ue]};t.EvaX=u,t.EvaXSystem=Ue,t.default=Fe,Object.defineProperty(t,"__esModule",{value:!0})}));
